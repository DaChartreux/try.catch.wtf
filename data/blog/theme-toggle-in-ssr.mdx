---
title: Theme toggle in SSR
heroImageName: 72Mf6a3tpno
heroCreditUserProfile: Pawel Czerwinski
heroCreditUserProfileUrl: https://unsplash.com/@pawel_czerwinski?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText
heroCreditSource: Unsplash
---

### Theme toggle

A theme toggle might sound very trivial at first. What could go wrong with switching themes? _A lot!_. We have to...

- manage the theme context
- sync the theme across different tabs
- the infamous flash bang

So, let's dive right into it and tackle these problems one by one. I will be using Next.js and Emotion, but this can also be applied to any SSR framework using either CSS-in-JS or CSS to style the app.

Lets start by creating a next.js app and installing the dependencies.

```bash
$ yarn create next-app theme-toggle
$ cd theme-toggle
$ yarn add @emotion/styled @emotion/react
```

```jsx
>>> _app.js

import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";import React from "react";
import type { ReactElement, ReactNode } from "react";
import type { ReactElement, ReactNode } from "react";
```
